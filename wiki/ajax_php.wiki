#exchange format for ajax interface

= Introduction =

ajax.php  interface

*use double quote, not single quote, as php json_decode does*
= Details =
== conversation sample ==

POST /ajax.php

data={"tid":12321,"msg":"顶","action":"add"}  

HTTP/1.1 200 OK

{"errno":0}

POST /ajax.php

data={"tid":12321,"page",10,"action":"view"}  

HTTP/1.1 200 OK

{"errno":0,"contents":

{"cid":100,"username":"guest1","msg":"顶1","publish_date":2008-11-5 11:08},

{"cid":100,"username":"guest2","msg":"顶2","publish_date":2008-11-5 11:07},

{"cid":100,"username":"guest3","msg":"说两句","publish_date":2008-11-5 11:05},

{"cid":100,"username":"guest1","msg":"顶4","publish_date":2008-11-5 11:01},

{"cid":100,"username":"guest6","msg":"还是顶","publish_date":2008-11-5 11:00},
}

POST /ajax.php

data={"cid":100,"action":"del",} 

HTTP/1.1 200 OK

{"errno":1}

== errno ==

 * -1	unknown error
 * 0	success
 * 1	action not implemented
 * 2	invalid request
 * 3	not authorized